# 题目 约瑟夫环

0,1,...,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。

其实这就是著名的约瑟夫环问题，下面是这个问题产生的背景，一个有趣的故事：

> 据说著名犹太历史学家 Josephus有过以下的故事：在罗马人占领乔塔帕特后，39 个犹太人与Josephus及他的朋友躲到一个洞中，39个犹太人决定宁愿死也不要被敌人抓到，于是决定了一个自杀方式，41个人排成一个圆圈，由第1个人开始报数，每报数到第3人该人就必须自杀，然后再由下一个重新报数，直到所有人都自杀身亡为止。然而Josephus 和他的朋友并不想遵从。首先从一个人开始，越过k-2个人（因为第一个人已经被越过），并杀掉第k个人。接着，再越过k-1个人，并杀掉第k个人。这个过程沿着圆圈一直进行，直到最终只剩下一个人留下，这个人就可以继续活着。问题是，给定了和，一开始要站在什么地方才能避免被处决？Josephus要他的朋友先假装遵从，他将朋友与自己安排在第16个与第31个位置，于是逃过了这场死亡游戏。

# 思路

用链表模拟环


- 用链表模拟一个环

- 模拟游戏场景

- 记录头节点的前一个节点current，以保证我们找到的要删除的节点是current.next

- 每次循环m次找到目标节点删除，直到链表只剩下一个节点

- 时间复杂度O(m*n) 空间复杂度O(n)

# 解题
``` javascript
function LastRemaining (n,m) {
  if (n < 1 || m < 1) {
    return -1;
  }
  let head = {
    val: 0,
    next: null
  }
  // 先弄一个环
  let cur = head
  for (let i =1; i < n; i++) {
    cur.next = { val: i, next: null }
    cur = cur.next
  }
  cur.next = head
  //  开始除去
  while (cur.next !== cur) {
    for (let i = 0; i < m - 1; i ++) {
      cur = cur.next
    }
    cur.next = cur.next.next
  }
  return cur.val
}
```



